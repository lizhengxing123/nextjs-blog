---
title: '数据类型'
excerpt: '数据类型'
coverImage: '/assets/blog/sql/sql.jpeg'
date: '2023-07-06 10:22:48'
author:
  name: 李正星
  picture: '/assets/blog/authors/zx.jpeg'
ogImage:
  url: '/assets/blog/sql/sql.jpeg'
type: 'Sql'
---

## 数据类型

### 数值

#### int

- `tinyint`

非常小的整数，1 `bytes` 大小

无符号整数范围：(0, 255)

有符号整数范围：(-128, 127)

- `smallint`

小的整数，2 `bytes` 大小

无符号整数范围：(0, 65535)

有符号整数范围：(-32768, 32767)

- `mediumint`

一般的整数，3 `bytes` 大小

无符号整数范围：(0, 16777215)

有符号整数范围：(-8388608, 8388607)

- `int`

标准的整数，4 `bytes` 大小

无符号整数范围：(0, 4294967295)

有符号整数范围：(-2147483648, 2147483647)

- `bigint`

大整数，8 `bytes` 大小

无符号整数范围：(0, 18446744073709551615)

有符号整数范围：(-9223372036854775808, 9223372036854775807)

```sql
-- 创建 t1 表，设置字段 n 类型为 tinyint
-- 默认为有符号
create table t1(n tinyint);

-- 增加一个无符号整数
-- unsigned 约束条件就表示无符号
alter table t1 add m tinyint unsigned;

-- 插入数据
insert into t1 values(128, -10);
-- 超出范围会报错
-- ERROR 1264 (22003): Out of range value for column 'n' at row 1

-- 成功插入数据
insert into t1 values(127, 10);
```

整型后面的宽度表示显示宽度

```sql
-- 创建 t2 表，设置 n 字段为无符号，0 填充且显示宽度为 3 的 int 类型
create table t2(n int(3) zerofill unsigned);

-- 插入数据
insert into t2 values(1),(23),(456),(7890);

-- 查看数据
select * from t2;
-- +------+
-- | n    |
-- +------+
-- |  001 |
-- |  023 |
-- |  456 |
-- | 7890 |
-- +------+
```

> `int` 类型无符号默认显示宽度是 10，有符号默认显示宽度是 11

#### float

- `float`

单精度浮点数值，4 `bytes` 大小，精确到小数点后 6 位

无符号整数范围：0，(1.175 494 351 E-38，3.402 823 466 E+38)

有符号整数范围：(-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38)

- `double`

双精度浮点数值，8 `bytes` 大小，精确到小数点后 15 位

无符号整数范围：0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)

有符号整数范围：(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)

- `decimal`

小数值，`DECIMAL(M,D)` 。M最大为65，表示数字个数，N最大为30，表示小数个数。精度最高

无符号整数范围：依赖于M和D的值

有符号整数范围：依赖于M和D的值

>`float` 和 `double` 浮点数指定宽度可以传两个参数，
> 第一个参数表示数字个数（最大为255，如果小数为30，那么前面的整数就有 255-30=225 个），
> 第二个参数表示小数点后面的小树个数（最大为30）

### 字符

#### char 定长字符串

对于 `char(10)` 来说，最多能存 10 个字符；如果超过10个字符，会直接报错；如果不足10个字符，以空格补充。

最大字符数是 255

> `char` 是在最后面的补的空格，因此当实际字符后面有空格的时候，查询会取消掉空格

#### varchar 变长字符串

对于 `varchar(10)` 来说，最多能存 10 个字符；如果超过10个字符，会直接报错；如果不足10个字符，直接存，不会以空格补充。

最大字符数是 21844

> `varchar` 最多能存储 65535 个字节。
> 其中 `null` 要占去一个字节，每个字段头要占 1(小于 255 字节) 或 2(255 ～ 65535) 个字节
> 因此实际存储字节数是 65532。
> 
> 如果是 `gbk` 编码的话，一个字符占2个字节，总共能存储 65532/2=32766 个字符
> 
> 如果是 `utf8` 编码的话，一个字符占3个字节，总共能存储 65532/3=21844 个字符

```shell
mysql> insert into t3 values('  xx  ', '  xx  ');

mysql> select char_length(first_name), char_length(last_name) from t3;
+-------------------------+------------------------+
| char_length(first_name) | char_length(last_name) |
+-------------------------+------------------------+
|                       4 |                      6 |
+-------------------------+------------------------+
1 rows in set (0.00 sec)
```

#### 比较

- `char`：浪费空间，但存取速度快
- `varchar`：节省空间，但存取速度慢（**推荐使用**）

### 时间日期
### 枚举
### 集合